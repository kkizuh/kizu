Системы мониторинга могут отличаться по архитектуре, но не по принципу работы и методам сбора информации.

Рассмотрим на схеме как происходит сбор метрик (рисунок 16).

![](https://ucarecdn.com/8070f35f-82b1-4955-b0f1-9a1931246640/)

Рисунок 16. Схема работы.

**Сбор метрик**

Администратор опрашивает узел по протоколу SNMP или установленная программа на узел, которая сама собирает метрики и потом передаёт системе мониторинга или система мониторинга забирает метрики с агента.

**Режимы работы**

Zabbix Agent может работать в нескольких режимах, каждый из которых предназначен для определенных задач и сценариев использования.

1. **Активный режим**: Zabbix Agent активно отправляет данные на сервер Zabbix с определенными интервалами. Здесь агент самостоятельно устанавливает соединение с сервером и отправляет данные. Этот режим обычно используется в тех случаях, когда сервер Zabbix не имеет доступа к агенту по сети или когда требуется активный мониторинг.
2. **Пассивный режим**: Zabbix Agent ожидает запросов от сервера Zabbix и отвечает на них. Этот режим наиболее распространен и обычно используется в локальных или ограниченных сетях, где сервер Zabbix имеет постоянный доступ к агентам.
3. **Активно-пассивный режим**: комбинирует оба вышеперечисленных режима. Агент может как самостоятельно отправлять данные на сервер Zabbix, так и ожидать запросов от сервера.

Выбор режима работы Zabbix Agent зависит от особенностей среды мониторинга и требований по безопасности и доступности. В ограниченной сети предпочтительнее использование пассивного режима, чтобы уменьшить количество исходящих соединений. В то время как в динамической и сложной среде может быть целесообразнее использование активного режима для более активного мониторинга и уменьшения задержек в получении данных.